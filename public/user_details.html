<!DOCTYPE html>
  <html lang="en" dir="ltr">
    <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="apple-touch-icon" sizes="180x180" href="pictures/apple-touch-icon.png">
      <link rel="icon" type="image/png" sizes="32x32" href="pictures/favicon-32x32.png">
      <link rel="icon" type="image/png" sizes="16x16" href="pictures/favicon-16x16.png">
      <link rel="manifest" href="pictures/site.webmanifest">
      <link rel="stylesheet" href="css/main_stylesheet.css">
      <link rel="stylesheet" href="css/modal.css">
      <link rel="stylesheet" href="css/toastr.css">
      <meta name="description" content="Official Site of FRC Team 1806: S.W.A.T.">
      <meta name="keywords" content="robotics,first robotics,first robotics competition,frc,robot,robots,smithville,kansas city,missouri,smithville high school,smithville school district,smithville warriors,advancing technology,smithville warriors advancing technology,swat,s.w.a.t.,1806,frc 1806,7359,ftc team 7359,7507,ftc team 7507,sponsor,sponsorship opportunity,labconco,community america,community america credit union,cacu,wesco,SHOWTURTLE">
      <title>S.W.A.T. 1806 | User Profile</title>
      <script src="src/jquery.min.js"></script>
      <script src="src/ipChecker.js"></script>
      <script src="src/toastr.js"></script>
    </head>
    <body>
      <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
      <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"></script>

      <!-- Add Firebase products that you want to use -->
      <script SameSite="strict" src="https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-database.js"></script>
      <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-firestore.js"></script>
      <!-- Firebase config file for the console -->
      <script src="src/firebase_config.js"></script>
      <!-- Fixednav -->
      <div class="fixedbar">
        <span class="pancakes" style="font-size:30px;cursor:pointer;color:white;padding-left:15px;margin-top:2px;float:left;" onclick="openNav()">â˜°</span>
        <a href="index.html" class="navbarthings"><img src="pictures/Logo.png" class="logo"></a>
        <a href="login.html" class="login_pic-nav" id="login_pic-nav"><img src="pictures/login-512.png" height="30px" width="30px"></a>
        <input class="navbar-user" type="image" src="pictures/account-logout-512.png" height="30px" width="30px" id="btnLogOut" />
        <a href="#" class="navbar-user" id="navbar-user"><img src="pictures/user-3-512.png" height="30px" width="30px"></a>
        <a class="login-nav" id="login-nav" href="login.html">Login</a>
      </div>
      <!-- Sidenav -->
      <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="index.html">Home</a>
        <a href="history-page.html">History</a>
        <a href="awards-page.html">Awards</a>
        <a href="sponsors.html">Sponsors</a>
        <a href="resources.html">Resources</a>
        <a href="blog.html">Blog</a>
        <a href="register-page.html">Registration</a>
        <a href="about.html" style="overflow:hidden;white-space: nowrap;">About Us</a>
        <!-- <a href="newsletters.html">Newsletters</a> -->
      </div>
      <!-- Entire div consists of the user details -->
      <div class="outside_div">
        <div class="user-box">
          <form name="fromu1" id='submit_to_google_sheet'>
            <!-- Clock in function -->
            <input readonly type="custom" id="date" name="date">
            <input readonly type="custom" id="time" name="time">
            <br>
            <br>
            <button type="button" onclick="_clockIn()" class="mybutton" id="clockIn" >Clock In</button>
            <br>
            <button type="button" onclick="_clockOut()" class="mybutton" id="clockOut" >Clock Out</button>
            <input hidden readonly value="" id="clocked" name="clocked">
            <h3 id="score"></h3>
            <!-- Name view and change -->
            <h3>Name:
              <input readonly type="custom" name="student_name" id="name">
            </h3>
            <p class="login-p" style="text-align:center;font-size:20px;">Change Name: </p>
            <input type="name" id="nameInput" class="inputs">
            <br>
            <br>
            <button type="button" class="mybutton" id="btnUpdate">Update Name</button>
            <br>
            <!-- Email view and change -->
            <h3>Email:</h3>
            <div style="width:100%">
              <div style="display:inline-block;width:100%">
                <input readonly type="custom" name="email" id="email">
              </div>
              <!-- Email is/not verified -->
              <div style="display:inline-block">
                <img src="pictures/x-mark-3-512.png" id="verification1" class="ok"><img src="pictures/ok-512.png" id="verification2" class="x-mark">
              </div>
            </div>
            <p id="sendVerifyEmail" onclick="sendVerificationEmail()" class="verifyEmail">Send Verification Email</p>
            <br>
            <p class="login-p" style="text-align:center;font-size:20px;">Change Email:</p>
            <button type="button" class="mybutton" id="myBtn">Change Email</button>
          </form>
          <br>
          <!-- Link to Writers Page -->
          <h3 id="writerview">For Writers:</h3>
          <hr width="45%">
          <button type="button" id="writerpage" class="mybutton" onclick="window.location.href = 'writer-page.html';">Writers Page</button>
          <br>
          <!-- Link to admin functions -->
          <h3 id="adminview">For Admins:</h3>
          <hr width="45%">
          <button type="button" id="adminpage" class="mybutton" onclick="window.location.href = 'manager-page.html';">Reports and Admin Manager</button>
        </div>
      </div>
      <!-- The Modal -->
      <div id="myModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>Change your email:</p>
          <input class="P-E_inputs" type="email" placeholder="Enter new email..." id="change_email">
          <p>Enter password to change:</p>
          <input class="P-E_inputs" type="password" placeholder="Enter current password..." id="current-password">
          <button type="button" id="btnRst" class="mybutton">Change</button>
        </div>
      </div>
      <br/>
      <br/>
      <br/>
      <footer>
        <p>Smithville High School Robotics | S.W.A.T. (Smithville Warriors Advancing Technology)</p>
      </footer>
    </body>
    <!-- Sidenav functionality -->
    <script>
      function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
      }

      function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
      }
    </script>

    <!-- Above the fold Clock functionality -->
    <script>
      function updateClock() {
        var today = new Date();

        // Checks and gets the current date
        if((today.getMonth()+1) <= 9 && today.getDate() <= 9) {
          var date = today.getFullYear()+'/0'+(today.getMonth()+1)+'/0'+today.getDate();
        } else if((today.getMonth()+1) <= 9) {
          var date = today.getFullYear()+'/0'+(today.getMonth()+1)+'/'+today.getDate();
        } else if(today.getDate() <= 9) {
          var date = today.getFullYear()+'/'+(today.getMonth()+1)+'/0'+today.getDate();
        } else {
          var date = today.getFullYear()+'/'+(today.getMonth()+1)+'/'+today.getDate();
        }

        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);

        // Converts 24 hour time to 12 hour time
        var hours = today.getHours();
        hours = ((hours + 11) % 12 + 1);

        var time = hours + ":" + m + ":" + s;

        // Puts the gathered values to the input areas in the clock in system
        document.getElementById("date").value = date;
        document.getElementById("time").value = time;

        // call this function again in 1000ms
        setTimeout(updateClock, 1000);
      }

      // Adds 0s infront of single digit numbers in clock
      function checkTime(i) {
        if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
        return i;
      }

      updateClock();
    </script>
    <!-- Checks if admin or not -->
    <script src="src/admin-system.js"></script>
    <!-- Change email modal -->
    <script src="src/modal2.js"></script>
    <!-- The entire clocking system -->
    <script src="src/get_userinfo.js"></script>
  </html>
